#TODO: figure out why I need this here and in bootstrap.yml
spring:
  application:
    name: s1pdgs-core-metadata-catalog-trigger
    
# Logging
logging:
  config: ${log4j_filename:config/log4j2.yml}

# KAFKA config for error queue
kafka:
  bootstrap-servers: ${kafka_bootstrap-servers:kafka-headless:9092}   # the bootstrap servers for KAFKA
  group-id: error                                                # the group identifier to use for KAFKA publishers  
  max-retries: 10                                                # number of retries if kafka is not available
  error-topic: t-pdgs-errors  
  producer:
    max-retries: 10

process:
  hostname: ${HOSTNAME}                   # Hostname 

mqi:
  host-uri: http://localhost:8081                               # the host and port for querying MQI server
  max-retries: 45                                                # the maximal number of consecutive retries following a MQI request error 
  tempo-retry-ms: 1000    

trigger:
  product-categories:
    auxiliary-files:
      init-delay-poll-ms: 2000                                    # Initial delay in milliseconds before starting consuming message
      fixed-delay-ms: 500                                         # (fixed delay) Period in milliseconds between 2 polls of next message
    edrs-sessions:
      init-delay-poll-ms: 2000                                    # Initial delay in milliseconds before starting consuming message
      fixed-delay-ms: 500                                         # 
    level-products:
      init-delay-poll-ms: 2000                                    # Initial delay in milliseconds before starting consuming message
      fixed-delay-ms: 500                                         # 
    level-segments:
      init-delay-poll-ms: 2000                                    # Initial delay in milliseconds before starting consuming message
      fixed-delay-ms: 500                                         # 
    
# REST controller
server:
  port: 8080                                                      # port used for publishing REST API
  
# Metadata Extractor
mdextractor:
  type-overlap:                                             # !!!! Overlap per acquisition
    EW: 8.2F
    IW: 7.4F
    SM: 7.7F
    WV: 0.0F
  type-slice-length:                                        # !!!!! Slice length per acquisition
    EW: 60.0F
    IW: 25.0F
    SM: 25.0F
    WV: 0.0F
  xslt-directory: xslt/                                        # Directory where the XSLT are locatede (Must contains the last /)
  
status:
  max-error-counter-processing: 3                                 # the number of consecutive processing errors leading to the state FATALERROR
  max-error-counter-mqi: 30                                       # the number of consecutive MQI errors leading to the state FATALERROR
  block-system-exit: true

