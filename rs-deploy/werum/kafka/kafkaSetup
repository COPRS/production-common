if [[ -z $LOCATION ]]
then
  echo "Please set environment variable \$LOCATION pointing to the s1pro-configuration location"
  exit 1
fi

if [[ -z $KAFKA_POD ]]
then
  echo "Please use the environment variable \$KAFKA_POD pointing to the first pod of the cluster"
  exit 1
fi

if [ $# -ne 1 ]
then
    echo "Please provide a target: INSTALL or CLEAN"
    exit 1
fi

if [[ $1 == "INSTALL" ]]
then
  $LOCATION/werum/kafka/scripts/configure.sh
elif [[ $1 == "CLEAN" ]]
then
  $LOCATION/werum/kafka/scripts/delete_topics.sh
elif [[ $1 == "PURGE" ]]
then
  # Purges all kafka topics even if they are not listed in the topic partition 
  $LOCATION/werum/kafka/scripts/purge_topics.sh
fi
