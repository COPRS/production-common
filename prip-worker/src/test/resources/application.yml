#TODO: figure out why I need this here and in bootstrap.yml
spring:
  application:
    name: s1pdgs-prip-worker

# Logging
logging:
  config: classpath:log4j2-test.yml

# MQI config
mqi:
  host-uri: http://localhost:8081                               # the host and port for querying MQI server
  max-retries: 100                                              # the maximal number of consecutive retries following a MQI request error 
  tempo-retry-ms: 10000                                         #
  
# KAFKA config for error queue
kafka:
  bootstrap-servers: ${kafka_bootstrap-servers:kafka-headless:9092}   # the bootstrap servers for KAFKA
  group-id: error                                                # the group identifier to use for KAFKA publishers  
  max-retries: 10                                                # number of retries if kafka is not available
  error-topic: t-pdgs-errors  
  
metadata:
  host: localhost:8080
  rest-api_nb-retry: 3
  rest-api_tempo-retry-ms: 1000 
  
# Elastic Search
elasticsearch:
  host: localhost                                           # Host of Elasticsearch cluster
  port:  9200                                  # Port of Elasticsearch cluster
  connect-timeout-ms: 2000                                        # Timeout in milliseconds of connection to the cluster
  socket-timeout-ms: 10000                                        # Timeout in milliseconds of the socket to the cluster
  
# PRIP Worker config
prip-worker:
  hostname: localhost
  metadata-unavailable-retries-number: 10
  metadata-unavailable-retries-interval-ms: 5000  
  publishing-job-listener:
    polling-interval-ms: 200
    polling-initial-delay-ms: 5000

# PRIP Commons config
prip-client:
  repository:
    max-search-hits: 1000

status:
  delete-fixed-delay-ms: 3000
  max-error-counter-processing: 30
  max-error-counter-mqi: 30
  block-system-exit: true

# REST controller
server:
  port: 8080 