#TODO: figure out why I need this here and in bootstrap.yml
spring:
  application:
    name: s1pdgs-prip-worker

# Logging
logging:
  config: classpath:log4j2-test.yml

# MQI config
mqi:
  host-uri: http://localhost:8081                               # the host and port for querying MQI server
  max-retries: 100                                              # the maximal number of consecutive retries following a MQI request error 
  tempo-retry-ms: 10000                                         #
  
# KAFKA config for error queue
kafka:
  bootstrap-servers: ${kafka_bootstrap-servers:kafka-headless:9092}   # the bootstrap servers for KAFKA
  group-id: error                                                # the group identifier to use for KAFKA publishers  
  max-retries: 10                                                # number of retries if kafka is not available
  error-topic: t-pdgs-errors  
  
metadata:
  host: localhost:8080
  rest-api_nb-retry: 3
  rest-api_tempo-retry-ms: 1000 
  
# Elastic Search
elasticsearch:
  host: localhost                                           # Host of Elasticsearch cluster
  port:  9200                                  # Port of Elasticsearch cluster
  connect-timeout-ms: 2000                                        # Timeout in milliseconds of connection to the cluster
  socket-timeout-ms: 10000                                        # Timeout in milliseconds of the socket to the cluster
  
# PRIP Worker config
prip-worker:
  hostname: localhost
  metadata-unavailable-retries-number: 10
  metadata-unavailable-retries-interval-ms: 5000  
  publishing-job-listener:
    polling-interval-ms: 200
    polling-initial-delay-ms: 5000
  product-type-regexp:
    l0-std: (S[1-6]|IW|EW|EN|RF|WV|N[1-6])_RAW__0S
    l0-ann: (S[1-6]|IW|EW|WV)_RAW__0A
    l0-cal: (S[1-6]|IW|EW|WV)_RAW__0C
    l0-noise: (S[1-6]|IW|EW|WV)_RAW__0N
    l0-gps: GP_RAW__0_
    l0-hktm: HK_RAW__0_
    l1: (S[1-6]|IW|EW|WV)_(SLC_|GRDF|GRDH|GRDM|RTC_)_1(A|S)
    l2: (S[1-6]|IW|EW|WV)_(SLC_|GRDF|GRDH|GRDM|RTC_)_2(A|S)
    aux-safe: AUX_(PP1|CAL|INS|PP2|SCS|WND|WAV|ICE|ECE)
    aux-eof: AUX_(RESATT|PREORB|POEORB|RESORB)
  metadata-mapping:
    l0-std:
      beginningDateTime_date: startTime
      endingDateTime_date: stopTime
      startTimeFromAscendingNode_double: startTimeANX
      completionTimeFromAscendingNode_double: stopTimeANX
      platformShortName_string: platformShortName
      platformSerialIdentifier_string: platformSerialIdentifier
      instrumentShortName_string: instrumentShortName
      operationalMode_string: operationalMode
      swathIdentifier_string: swathIdentifier
      productClass_string: productClass
      productConsolidation_string: productConsolidation
      instrumentConfigurationID_long: instrumentConfigurationId
      missionDatatakeID_long: missionDataTakeId
      sliceProductFlag_boolean: sliceProductFlag
      sliceNumber_long: sliceNumber
      totalSlices_long: totalNumberOfSlice
      polarisationChannels_string: polarisationChannels
      orbitNumber_long: absoluteStartOrbit
      relativeOrbitNumber_long: relativeStartOrbit
      cycleNumber_long: cycleNumber
      orbitDirection_string: pass
      processingDate_date: processingDate
      processingCenter_string: site
      processorName_string: processorName
      processorVersion_string: processorVersion
      coordinates_string: coordinates
      productType_string: productType
    l0-ann:
      beginningDateTime_date: startTime
      endingDateTime_date: stopTime
      startTimeFromAscendingNode_double: startTimeANX
      completionTimeFromAscendingNode_double: stopTimeANX
      platformShortName_string: platformShortName
      platformSerialIdentifier_string: platformSerialIdentifier
      instrumentShortName_string: instrumentShortName
      operationalMode_string: operationalMode
      swathIdentifier_string: swathIdentifier
      productClass_string: productClass
      productConsolidation_string: productConsolidation
      instrumentConfigurationID_long: instrumentConfigurationId
      missionDatatakeID_long: missionDataTakeId
      sliceProductFlag_boolean: sliceProductFlag
      sliceNumber_long: sliceNumber
      totalSlices_long: totalNumberOfSlice
      polarisationChannels_string: polarisationChannels
      orbitNumber_long: absoluteStartOrbit
      relativeOrbitNumber_long: relativeStartOrbit
      cycleNumber_long: cycleNumber
      orbitDirection_string: pass
      processingDate_date: processingDate
      processingCenter_string: site
      processorName_string: processorName
      processorVersion_string: processorVersion
      coordinates_string: coordinates
      productType_string: productType
    l0-cal:
      beginningDateTime_date: startTime
      endingDateTime_date: stopTime
      startTimeFromAscendingNode_double: startTimeANX
      completionTimeFromAscendingNode_double: stopTimeANX
      platformShortName_string: platformShortName
      platformSerialIdentifier_string: platformSerialIdentifier
      instrumentShortName_string: instrumentShortName
      operationalMode_string: operationalMode
      swathIdentifier_string: swathIdentifier
      productClass_string: productClass
      productConsolidation_string: productConsolidation
      instrumentConfigurationID_long: instrumentConfigurationId
      missionDatatakeID_long: missionDataTakeId
      sliceProductFlag_boolean: sliceProductFlag
      sliceNumber_long: sliceNumber
      totalSlices_long: totalNumberOfSlice
      polarisationChannels_string: polarisationChannels
      orbitNumber_long: absoluteStartOrbit
      relativeOrbitNumber_long: relativeStartOrbit
      cycleNumber_long: cycleNumber
      orbitDirection_string: pass
      processingDate_date: processingDate
      processingCenter_string: site
      processorName_string: processorName
      processorVersion_string: processorVersion
      coordinates_string: coordinates
      qualityDataObjectID_string: qualityDataObjectID
      qualityNumOfElement_long: qualityNumOfElement
      qualityNumOfMissingElements_long: qualityNumOfMissingElements
      qualityNumOfCorruptedElements_long: qualityNumOfCorruptedElements
      qualityNumOfRSIncorrigibleElements_long: qualityNumOfRSIncorrigibleElements
      qualityNumOfRSCorrectedElements_long: qualityNumOfRSCorrectedElements
      qualityNumOfRSCorrectedSymbols_long: qualityNumOfRSCorrectedSymbols     
      productType_string: productType
    l0-noise:
      beginningDateTime_date: startTime
      endingDateTime_date: stopTime
      startTimeFromAscendingNode_double: startTimeANX
      completionTimeFromAscendingNode_double: stopTimeANX
      platformShortName_string: platformShortName
      platformSerialIdentifier_string: platformSerialIdentifier
      instrumentShortName_string: instrumentShortName
      operationalMode_string: operationalMode
      swathIdentifier_string: swathIdentifier
      productClass_string: productClass
      productConsolidation_string: productConsolidation
      instrumentConfigurationID_long: instrumentConfigurationId
      missionDatatakeID_long: missionDataTakeId
      sliceProductFlag_boolean: sliceProductFlag
      sliceNumber_long: sliceNumber
      totalSlices_long: totalNumberOfSlice
      polarisationChannels_string: polarisationChannels
      orbitNumber_long: absoluteStartOrbit
      relativeOrbitNumber_long: relativeStartOrbit
      cycleNumber_long: cycleNumber
      orbitDirection_string: pass
      processingDate_date: processingDate
      processingCenter_string: site
      processorName_string: processorName
      processorVersion_string: processorVersion
      coordinates_string: coordinates
      qualityDataObjectID_string: qualityDataObjectID
      qualityNumOfElement_long: qualityNumOfElement
      qualityNumOfMissingElements_long: qualityNumOfMissingElements
      qualityNumOfCorruptedElements_long: qualityNumOfCorruptedElements
      qualityNumOfRSIncorrigibleElements_long: qualityNumOfRSIncorrigibleElements
      qualityNumOfRSCorrectedElements_long: qualityNumOfRSCorrectedElements
      qualityNumOfRSCorrectedSymbols_long: qualityNumOfRSCorrectedSymbols     
      productType_string: productType
    l0-gps:
      beginningDateTime_date: startTime
      endingDateTime_date: stopTime
      startTimeFromAscendingNode_double: startTimeANX
      completionTimeFromAscendingNode_double: stopTimeANX
      platformShortName_string: platformShortName
      platformSerialIdentifier_string: platformSerialIdentifier
      instrumentShortName_string: instrumentShortName
      orbitNumber_long: absoluteStartOrbit
      relativeOrbitNumber_long: relativeStartOrbit
      cycleNumber_long: cycleNumber
      orbitDirection_string: pass
      processingDate_date: processingDate
      processingCenter_string: site
      processorName_string: processorName
      processorVersion_string: processorVersion
      productType_string: productType
    l0-hktm:
      beginningDateTime_date: startTime
      endingDateTime_date: stopTime
      platformShortName_string: platformShortName
      platformSerialIdentifier_string: platformSerialIdentifier
      orbitNumber_long: absoluteStartOrbit
      relativeOrbitNumber_long: relativeStartOrbit
      cycleNumber_long: cycleNumber
      processingDate_date: processingDate
      processingCenter_string: site
      processorName_string: processorName
      processorVersion_string: processorVersion
      productType_string: productType
    l1:
      processingDate_date: creationTime
      processingCenter_string: site
      processorName_string: processorName
      processorVersion_string: processorVersion
      beginningDateTime_date: startTime
      endingDateTime_date: stopTime
      startTimeFromAscendingNode_double: startTimeANX
      completionTimeFromAscendingNode_double: stopTimeANX
      platformShortName_string: platformShortName
      platformSerialIdentifier_string: platformSerialIdentifier
      instrumentShortName_string: instrumentShortName
      operationalMode_string: operationalMode
      swathIdentifier_string: swathIdentifier
      orbitNumber_long: absoluteStartOrbit
      relativeOrbitNumber_long: relativeStartOrbit
      cycleNumber_long: cycleNumber
      orbitDirection_string: pass
      coordinates_string: coordinates
      instrumentConfigurationID_long: instrumentConfigurationId
      missionDatatakeID_long: missionDataTakeId
      polarisationChannels_string: polarisationChannels
      productClass_string: productClass
      productComposition_string: productComposition
      productType_string: productType
      timeliness_string:  safeTimeliness
      sliceProductFlag_boolean: sliceProductFlag
      segmentStartTime_date: segmentStartTime
      sliceNumber_long: sliceNumber
      totalSlices_long: totalNumberOfSlice
    l2:
      processingDate_date: creationTime
      processingCenter_string: site
      processorName_string: processorName
      processorVersion_string: processorVersion
      beginningDateTime_date: startTime
      endingDateTime_date: stopTime
      startTimeFromAscendingNode_double: startTimeANX
      completionTimeFromAscendingNode_double: stopTimeANX
      platformShortName_string: platformShortName
      platformSerialIdentifier_string: platformSerialIdentifier
      instrumentShortName_string: instrumentShortName
      operationalMode_string: operationalMode
      swathIdentifier_string: swathIdentifier
      orbitNumber_long: absoluteStartOrbit
      relativeOrbitNumber_long: relativeStartOrbit
      cycleNumber_long: cycleNumber
      orbitDirection_string: pass
      coordinates_string: coordinates
      instrumentConfigurationID_long: instrumentConfigurationId
      missionDatatakeID_long: missionDataTakeId
      polarisationChannels_string: polarisationChannels
      productClass_string: productClass
      productComposition_string: productComposition
      productType_string: productType
      timeliness_string:  safeTimeliness
      sliceProductFlag_boolean: sliceProductFlag
      segmentStartTime_date: segmentStartTime
      sliceNumber_long: sliceNumber
      totalSlices_long: totalNumberOfSlice
    aux-safe:
      processingDate_date: creationTime
      processingCenter_string: site
      processorName_string: processorName
      processorVersion_string: processorVersion
      platformShortName_string: platformShortName
      platformSerialIdentifier_string: platformSerialIdentifier
      instrumentShortName_string: instrumentShortName
      productType_string: productType
      beginningDateTime_date: validityStartTime
      productGeneration_string: productGeneration
      instrumentConfigurationID_string: instrumentConfigurationId
    aux_eof:
      platformShortName_string: platformShortName
      platformSerialIdentifier_string: platformSerialIdentifier
      productType_string: productType
      beginningDateTime_date: validityStartTime
      endingDateTime_date: validityStopTime
      processingCenter_string: site
      processorVersion_string: processorVersion
      processingDate_string: creationTime
# PRIP Commons config
prip-client:
  repository:
    max-search-hits: 1000

status:
  delete-fixed-delay-ms: 3000
  max-error-counter-processing: 30
  max-error-counter-mqi: 30
  block-system-exit: true

# REST controller
server:
  port: 8080 