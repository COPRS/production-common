#TODO: figure out why I need this here and in bootstrap.yml
spring:
  application:
    name: s1pdgs-l0-jobgenerator
    
# Logging
logging:
  config: logback-spring.xml
  level:
    ROOT: ERROR
    org.springframework: ERROR
    fr.viveris.s1pdgs: INFO
    kafka: WARN
  file: ./s1pdgs-l0-jobgenerator.log
 
metadata:
  host: localhost:8080

# KAFKA
kafka:
  bootstrap-servers: ${spring.embedded.kafka.brokers}
  group-id: level0-jobgenerators
  client-id: l0-job-generator
  poll-timeout: 500
  topics:
    edrs-sessions: t-pdgs-edrs-sessions
    l0-slices: t-pdgs-l0-slices
    lx-jobs: t-pdgs-l0-jobs
  enable-consumer:
    edrs-sessions: true
    l0-slices: false
 
#Object Storage
storage:
  user:
    id: MEF5PCBPTXHKOUTCKW3
    secret: 4YiRYBN6HulfbA6uP7eZdhlm9Jb5JVYm18byMGJo
  endpoint: http://oss.eu-west-0.prod-cloud-ocb.orange-business.com/
  region: eu-west-0
  buckets:
    edrs-sessions: session-files
    
level0:
  maxnumberofsessions: 20
  maxagesession: 25200000
  dir-extractor-sessions: ./tmp/
  
level1:
  pathroutingxmlfile: ./l1_config/routing.xml

job-generator:
  directoryoftasktables: ./l0_config/task_tables/
  maxnumberoftasktables: 2
  maxnumberofjobs: 20
  scheduledfixedrate: 500
  waitprimarycheck:
    tempo: 2000
    retries: 2
  waitmetadatainput:
    tempo: 3000
    retries: 5
  defaultoutputfamily: L0_ACN
  outputfamiliesstr: "SM_RAW__0S:L0_PRODUCT||IW_RAW__0S:L0_PRODUCT||EW_RAW__0S:L0_PRODUCT||WV_RAW__0S:L0_PRODUCT||RF_RAW__0S:L0_PRODUCT||AN_RAW__0S:L0_PRODUCT||EN_RAW__0S:L0_PRODUCT||ZS_RAW__0S:L0_PRODUCT||ZE_RAW__0S:L0_PRODUCT||ZI_RAW__0S:L0_PRODUCT||ZW_RAW__0S:L0_PRODUCT||GP_RAW__0_:BLANK||HK_RAW__0_:BLANK||REP_ACQNR:L0_REPORT||REP_L0PSA_:L0_REPORT||REP_EFEP_:L0_REPORT||IW_GRDH_1S:L1_PRODUCT||IW_GRDH_1A:L1_ACN"
  typeoverlapstr: "EW:8.2F||IW:7.4F||SM:7.7F||WM:0.0F"
  typeslicelengthstr: "EW:60.0F||IW:25.0F||SM:25.0F||WM:0.0F"
  link-producttype-metadataindex-str: "AUX_RES:AUX_RESORB||AUX_TUTU:AUX_TUT"

# L0 Process configuration
process:
  paramstr: "Processing_Mode:NRT||Timeout:10"
  loglevelstdout: DEBUG
  loglevelstderr: INFO
  processingstation: WILE
  outputregexpstr: "SM_RAW__0S:^S1[A-B]_S[1-6]_RAW__0S.*$||AN_RAW__0S:^S1[A-B]_N[1-6]_RAW__0S.*$||ZS_RAW__0S:^S1[A-B]_Z[1-6]_RAW__0S.*$||REP_L0PSA_:^S1[A|B|_]_OPER_REP_ACQ.*$||REP_EFEP_:^S1[A|B|_]_OPER_REP_PASS.*.EOF$"
  
pattern-l0-slices:
  regexp: "^([0-9a-z]{2})([0-9a-z]){1}_(([0-9a-z]{2})_RAW__0([0-9a-z_]{3}))_([0-9a-z]{15})_([0-9a-z]{15})_([0-9a-z_]{6})\\w{1,}\\.SAFE(/.*)?$"
  placeMatchSatelliteId: 2
  placeMatchMissionId: 1
  placeMatchAcquisition: 4
  placeMatchStartTime: 6
  placeMatchStopTime: 7
